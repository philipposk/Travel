<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/gemini.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AI Travel Assistant - Complete Travel Platform</title>
  </head>
  <body>
    <div id="app">
      <div id="auth-container">
        <button id="sign-in-button">Sign in with Google</button>
        <div id="user-info"></div>
        <button id="sign-out-button" style="display: none;">Sign Out</button>
      </div>

      <h1>AI Travel Assistant</h1>
      
      <div id="media-selection">
        <img src="/beach.jpeg" alt="Beach" class="selectable"/>
        <img src="/reichstag.jpeg" alt="Reichstag" class="selectable"/>
        <img src="/waterfall.jpeg" alt="Waterfall" class="selectable"/>
        <div id="upload-card" class="upload-card selectable">
          <input type="file" id="image-upload" accept="image/*" style="display: none;" />
          <label for="image-upload" class="upload-label">
            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
              <polyline points="17 8 12 3 7 8"></polyline>
              <line x1="12" y1="3" x2="12" y2="15"></line>
            </svg>
            <span>Upload Your Image</span>
            <small>Click or drag & drop</small>
          </label>
        </div>
      </div>
      <div id="uploaded-image-container" style="display: none; margin-top: 1em;">
        <img id="uploaded-image-preview" class="selectable" style="max-width: 200px; max-height: 200px;" />
        <button id="remove-uploaded-image" style="display: block; margin-top: 0.5em;">Remove</button>
      </div>

      <button id="prompt-button">Where is this?</button>

      <div id="loading-spinner" style="display: none;">Loading...</div>

      <div id="response-container">
        <h2 id="response"></h2>
        <div id="map" style="height: 400px; width: 100%;"></div>
        <div id="essential-links"></div>
        <div id="area-insights"></div>
      </div>

      <div id="review-container">
        <h3>Write a Review</h3>
        <textarea id="prompt-text" rows="5"></textarea>
        <button id="refine-review-button">Refine Review</button>
      </div>

      <div id="todo-container">
        <h3>My To-Do List</h3>
        <input type="text" id="todo-input" placeholder="Add a new task"/>
        <button id="add-todo">Add</button>
        <ul id="todo-list"></ul>
      </div>

      <!-- Tabs for new features -->
      <div class="tabs">
        <button class="tab active" data-tab="social">Social & Share</button>
        <button class="tab" data-tab="maps">Maps Repository</button>
        <button class="tab" data-tab="booking">Bookings</button>
        <button class="tab" data-tab="airport">Airport Navigation</button>
        <button class="tab" data-tab="community">Community</button>
        <button class="tab" data-tab="content">Content Creator</button>
        <button class="tab" data-tab="immigration">Immigration & Visas</button>
        <button class="tab" data-tab="intelligence">Travel Intelligence</button>
        <button class="tab" data-tab="translator">Translator</button>
        <button class="tab" data-tab="ai-assistant">AI Assistant</button>
      </div>

      <!-- Social Sharing Tab -->
      <div id="social-tab" class="tab-content active feature-section">
        <h3>Share & Connect</h3>
        <div id="social-sharing">
          <h4>Share Location</h4>
          <div class="social-buttons">
            <button class="social-button facebook" id="share-facebook">Share on Facebook</button>
            <button class="social-button twitter" id="share-twitter">Share on Twitter</button>
            <button class="social-button instagram" id="share-instagram">Share on Instagram</button>
            <button class="social-button whatsapp" id="share-whatsapp">Share on WhatsApp</button>
          </div>
        </div>
        <div id="connections-section">
          <h4>My Connections</h4>
          <div id="connections-list"></div>
        </div>
      </div>

      <!-- Maps Repository Tab -->
      <div id="maps-tab" class="tab-content feature-section">
        <h3>Saved Maps Repository</h3>
        <div id="maps-actions">
          <button class="btn-primary" id="save-current-map">Save Current Map</button>
          <button class="btn-secondary" id="load-public-maps">Browse Public Maps</button>
        </div>
        <div id="save-map-form" style="display: none; margin-top: 1em;">
          <input type="text" id="map-title" placeholder="Map title" />
          <textarea id="map-description" placeholder="Description (optional)"></textarea>
          <label><input type="checkbox" id="map-public" /> Make public</label>
          <button class="btn-primary" id="confirm-save-map">Save</button>
        </div>
        <div id="saved-maps-list" class="maps-grid"></div>
      </div>

      <!-- Booking Tab -->
      <div id="booking-tab" class="tab-content feature-section">
        <h3>AI Booking Search - Real Price Comparison</h3>
        <div id="booking-search-form">
          <select id="booking-type">
            <option value="flight">Flights</option>
            <option value="hotel">Hotels</option>
            <option value="bus">Buses</option>
            <option value="train">Trains</option>
            <option value="ferry">Ferries</option>
            <option value="car">Car Rentals</option>
            <option value="tour">Tours</option>
            <option value="experience">Experiences</option>
            <option value="event">Events</option>
            <option value="airbnb">Airbnb</option>
            <option value="all">All (Multi-Modal)</option>
          </select>
          <label><input type="checkbox" id="flexible-routes" /> Find multi-city routes (e.g., ATH→BKK→VTE)</label>
          <label><input type="checkbox" id="find-deals" /> Include first-time deals & special offers</label>
          <input type="text" id="booking-destination" placeholder="Destination" />
          <input type="date" id="booking-checkin" />
          <input type="date" id="booking-checkout" />
          <input type="number" id="booking-passengers" placeholder="Passengers" min="1" />
          <input type="number" id="booking-budget-min" placeholder="Min budget" />
          <input type="number" id="booking-budget-max" placeholder="Max budget" />
          <select id="booking-currency">
            <option value="USD">USD</option>
            <option value="EUR">EUR</option>
            <option value="GBP">GBP</option>
          </select>
          <button class="btn-primary" id="search-bookings">Search Best Prices</button>
        </div>
        <div id="booking-results" class="booking-results"></div>
      </div>

      <!-- Community Tab -->
      <div id="community-tab" class="tab-content feature-section">
        <h3>Community</h3>
        <div class="tabs">
          <button class="tab active" data-subtab="forum">Forum</button>
          <button class="tab" data-subtab="reviews">Reviews</button>
          <button class="tab" data-subtab="messages">Messages</button>
          <button class="tab" data-subtab="ai-chat">AI Chat</button>
        </div>
        
        <div id="forum-section" class="tab-content active">
          <h4>Travel Forum</h4>
          <button class="btn-primary" id="create-post-btn">Create Post</button>
          <div id="forum-posts"></div>
        </div>
        
        <div id="reviews-section" class="tab-content">
          <h4>Write a Review</h4>
          <input type="text" id="review-location" placeholder="Location" />
          <input type="number" id="review-rating" placeholder="Rating (1-5)" min="1" max="5" />
          <input type="text" id="review-title" placeholder="Title" />
          <textarea id="review-content" placeholder="Your review"></textarea>
          <button class="btn-primary" id="submit-review">Submit Review</button>
          <div id="reviews-list"></div>
        </div>
        
        <div id="messages-section" class="tab-content">
          <h4>Messages</h4>
          <div id="messages-list"></div>
        </div>
        
        <div id="ai-chat-section" class="tab-content">
          <h4>Chat with AI Assistant</h4>
          <div id="ai-chat-messages"></div>
          <input type="text" id="ai-chat-input" placeholder="Ask me anything about travel..." />
          <button class="btn-primary" id="send-ai-message">Send</button>
        </div>
      </div>

      <!-- Content Creator Tab -->
      <div id="content-tab" class="tab-content feature-section">
        <h3>Social Media Content Creator</h3>
        <div id="content-creator-form">
          <select id="content-platform">
            <option value="instagram">Instagram</option>
            <option value="facebook">Facebook</option>
            <option value="twitter">Twitter</option>
            <option value="tiktok">TikTok</option>
          </select>
          <input type="file" id="content-media" multiple accept="image/*,video/*" />
          <input type="text" id="content-style" placeholder="Style (e.g., modern, vibrant)" />
          <button class="btn-primary" id="generate-content-btn">Generate Content</button>
        </div>
        <div id="generated-content-list"></div>
      </div>

      <!-- Immigration Tab -->
      <div id="immigration-tab" class="tab-content feature-section">
        <h3>Immigration & Visa Information</h3>
        <div id="visa-search-form">
          <input type="text" id="visa-country" placeholder="Destination Country" />
          <input type="text" id="visa-nationality" placeholder="Your Nationality (optional)" />
          <button class="btn-primary" id="get-visa-info">Get Visa Information</button>
        </div>
        <div id="visa-info-display"></div>
        <div id="immigration-info-display"></div>
      </div>

      <!-- Travel Intelligence Tab -->
      <div id="intelligence-tab" class="tab-content feature-section">
        <h3>Travel Intelligence</h3>
        <div id="intelligence-search-form">
          <input type="text" id="intelligence-location" placeholder="Location (e.g., Bangkok, Thailand)" />
          <button class="btn-primary" id="get-intelligence">Get Travel Intelligence</button>
        </div>
        <div id="intelligence-display">
          <div id="scams-warnings"></div>
          <div id="transportation-info"></div>
          <div id="sim-card-info"></div>
          <div id="currency-info"></div>
          <div id="cultural-info"></div>
        </div>
      </div>

      <!-- Airport Navigation Tab -->
      <div id="airport-tab" class="tab-content feature-section">
        <h3>Airport Navigation & Real-Time Updates</h3>
        
        <div id="airport-search-form">
          <input type="text" id="airport-code" placeholder="Airport Code (e.g., BKK, JFK)" />
          <input type="text" id="flight-number" placeholder="Flight Number (optional)" />
          <button class="btn-primary" id="load-airport-info">Load Airport Info</button>
        </div>

        <div id="notification-preferences" style="margin-top: 1em;">
          <h4>Get Updates Via:</h4>
          <label><input type="checkbox" id="notify-whatsapp" /> WhatsApp</label>
          <input type="tel" id="whatsapp-number" placeholder="WhatsApp number" style="display: none;" />
          <label><input type="checkbox" id="notify-telegram" /> Telegram</label>
          <input type="text" id="telegram-chat-id" placeholder="Telegram Chat ID" style="display: none;" />
          <label><input type="checkbox" id="notify-sms" /> SMS</label>
          <input type="tel" id="sms-number" placeholder="SMS number" style="display: none;" />
          <label><input type="checkbox" id="notify-email" /> Email</label>
          <input type="email" id="email-address" placeholder="Email address" style="display: none;" />
          <button class="btn-secondary" id="save-notification-preferences">Save Preferences</button>
        </div>

        <div id="airport-info-display" style="margin-top: 1em;">
          <div id="airport-alerts"></div>
          <div id="journey-timeline"></div>
          <div id="gate-info"></div>
          <div id="wait-times">
            <h4>Wait Times</h4>
            <div id="security-wait"></div>
            <div id="passport-wait"></div>
            <div id="luggage-wait"></div>
          </div>
          <div id="walking-times">
            <h4>Walking Times</h4>
            <div id="entrance-to-gate"></div>
            <div id="checkin-to-gate"></div>
          </div>
          <div id="airport-facilities">
            <h4>Facilities</h4>
            <div id="lounges"></div>
            <div id="smoking-areas"></div>
            <div id="accessibility"></div>
          </div>
          <div id="airport-map-container">
            <h4>Airport Map</h4>
            <button class="btn-secondary" id="download-airport-map">Download Map</button>
            <div id="airport-map" style="height: 400px; width: 100%; margin-top: 1em;"></div>
          </div>
        </div>

        <div id="assistance-booking" style="margin-top: 1em;">
          <h4>Book Assistance</h4>
          <select id="assistance-type">
            <option value="wheelchair">Wheelchair</option>
            <option value="assistance">General Assistance</option>
            <option value="both">Both</option>
          </select>
          <input type="text" id="assistance-name" placeholder="Name" />
          <input type="tel" id="assistance-phone" placeholder="Phone" />
          <input type="email" id="assistance-email" placeholder="Email" />
          <button class="btn-primary" id="book-assistance">Book Assistance</button>
        </div>

        <div id="community-edits" style="margin-top: 1em;">
          <h4>Community Updates</h4>
          <p>Help improve airport information by submitting updates:</p>
          <select id="edit-type">
            <option value="walking-time">Walking Time</option>
            <option value="route">Route</option>
            <option value="facility">Facility</option>
            <option value="elevator">Elevator/Escalator</option>
            <option value="accessibility">Accessibility</option>
          </select>
          <textarea id="edit-description" placeholder="Describe the update..."></textarea>
          <button class="btn-secondary" id="submit-edit">Submit Update</button>
        </div>
      </div>

      <!-- Translator Tab -->
      <div id="translator-tab" class="tab-content feature-section">
        <h3>AI Live Translator</h3>
        <div id="translator-form">
          <input type="text" id="translate-text" placeholder="Enter text to translate" />
          <select id="target-language">
            <option value="th">Thai</option>
            <option value="es">Spanish</option>
            <option value="fr">French</option>
            <option value="de">German</option>
            <option value="it">Italian</option>
            <option value="zh">Chinese</option>
            <option value="ja">Japanese</option>
            <option value="ko">Korean</option>
            <option value="ar">Arabic</option>
            <option value="hi">Hindi</option>
          </select>
          <button class="btn-primary" id="translate-btn">Translate</button>
          <button class="btn-secondary" id="translate-voice-btn">Translate with Voice</button>
        </div>
        <div id="translation-result"></div>
        <div id="learn-phrases">
          <h4>Learn Useful Phrases</h4>
          <select id="phrase-category">
            <option value="greetings">Greetings</option>
            <option value="directions">Directions</option>
            <option value="food">Food & Dining</option>
            <option value="emergency">Emergency</option>
            <option value="shopping">Shopping</option>
          </select>
          <input type="text" id="phrase-location" placeholder="Location (e.g., Thailand)" />
          <button class="btn-primary" id="learn-phrases-btn">Learn Phrases</button>
          <div id="phrases-list"></div>
        </div>
      </div>

      <!-- AI Assistant Tab -->
      <div id="ai-assistant-tab" class="tab-content feature-section">
        <h3>AI Assistant</h3>
        <p>Ask me anything about travel, navigation, or the app!</p>
        <div id="ai-assistant-chat" style="height: 400px; overflow-y: auto; border: 1px solid #ccc; padding: 1em; margin-bottom: 1em;">
          <div class="assistant-message">
            <strong>Assistant:</strong> Hi! I'm your travel assistant. I can help you navigate the app, answer travel questions, and provide real-time airport information. How can I help you today?
          </div>
        </div>
        <div id="ai-assistant-input-container">
          <input type="text" id="ai-assistant-input" placeholder="Ask me anything..." style="width: 70%; padding: 0.5em;" />
          <button class="btn-primary" id="ai-assistant-send">Send</button>
          <button class="btn-secondary" id="ai-assistant-clear">Clear</button>
        </div>
      </div>
    </div>
    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
